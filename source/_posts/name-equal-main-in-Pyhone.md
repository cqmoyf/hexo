title: Pyhone代码中name等于main的含义
date: 2015-12-30 10:06:16
tags: [Python]
categories:
---
最近在学习python脚本时会发现有的脚本里面有几行代码，不是很明白什么意思
```
if __name__== "__main__":
	main()
```
百度了一下说这就是方便代码复用的，我们可以在其他脚本方便的调用另外一个脚本里面的函数。
引用下面一篇文章来让我们更加明白
<!--more-->
[《python中if \__name\__ == '\__main\__': 的解析》][1]

> 模块是对象，并且所有的模块都有一个内置属性 \__name\__。一个模块的 \__name\__ 的值取决于您如何应用模块。如果 import 一个模块，那么模块\__name\__ 的值通常为模块文件名，不带路径或者文件扩展名。但是您也可以像一个标准的程序样直接运行模块，在这 种情况下, \__name\__ 的值将是一个特别缺省"\__main\__"。
///////////////////////////////////////////////////////////////////////////////////////////////////
在cmd 中直接运行.py文件,则\__name\__的值是'\__main\__';
而在import 一个.py文件后,\__name\__的值就不是'\__main\__'了;
从而用if \__name\__ == '\__main\__'来判断是否是在直接运行该.py文件
如:
> \#Test.py
class Test:
def \__init(self):pass
def f(self):print 'Hello, World!'
if \__name\__ == '\__main\__':
Test().f()
\#End
你在cmd中输入:
C:>python Test.py
Hello, World!
说明:"\__name\__ == '\__main\__'"是成立的
你再在cmd中输入:
C:>python
\>>>import Test
\>>>Test.\__name\__                #Test模块的\__name\__
'Test'
\>>>\__name\__                       #当前程序的\__name\__
'\__main\__'
无论怎样,Test.py中的"\__name\__ == '\__main\__'"都不会成立的!
所以,下一行代码永远不会运行到!
 
通过这篇文章，我们知道，.py文件会根据自身的使用方式，它的\__name\__的属性会不同。如果他的属性是“\__main\__”，那么脚本就知道自己是被直接执行的。如果是被别的文件import的来用，\__name\__的属性就会是脚本自己的文件名，从而防止错误的执行。引入的if语句的作用就是  通过检查该模块的\__name\__属性来实现判断.py文件被使用的方式。从而方便我们代码复用，也可以测试模块。
[1]:http://www.cnblogs.com/xuxm2007/archive/2010/08/04/1792463.html